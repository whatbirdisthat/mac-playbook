---
- name: Install visual-studio-code and some handy extensions
  homebrew_cask: name=visual-studio-code state=present

- name: Install vscode extensions
  command: "/usr/local/bin/code --install-extension '{{ item }}'"
  with_items:
    - DavidAnson.vscode-markdownlint
    - PeterJausovec.vscode-docker
    - Tyriar.sort-lines
    - austin.code-gnu-global
    - codezombiech.gitignore
    - cssho.vscode-svgviewer
    - donjayamanne.githistory
    - eamodio.gitlens
    - formulahendry.code-runner
    - lukehoban.Go
    - mike-lischke.vscode-antlr4
    - mitaki28.vscode-clang
    - ms-vscode.cpptools
    - ms-vscode.csharp
    - naereen.makefiles-support-for-vscode
    - redhat.vscode-yaml
    - twxs.cmake
    - vector-of-bool.cmake-tools
    - vscoss.vscode-ansible
  register: vscode_result
  changed_when: "'already installed' not in vscode_result.stdout"
